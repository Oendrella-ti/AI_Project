<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>AI Chatbot</title>
  <style>

      </style>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="chat-container">

<div class="chat-header">
<strong>What can I help with?</strong>
</div>
<div class="chat-messages" id="chatMessages"></div>

<div class="chat-input">
<input type="text" id="question" placeholder="Type your question..." />
<button onclick="askQuestion()">Send</button>
</div>
</div>

<script>
function appendMessage(text, sender) {
const message = document.createElement("div");
message.className = "chat-bubble " + sender;
message.textContent = text;
document.getElementById("chatMessages").appendChild(message);
message.scrollIntoView({ behavior: "smooth" });
}

function askQuestion() {
const input = document.getElementById("question");
const question = input.value.trim();
if (!question) return;

appendMessage(question, "user");
input.value = "";
fetch("/ask", {
method: "POST",
headers: {
"Content-Type": "application/json"
},
body: JSON.stringify({ question })
})
.then(res => res.json())
.then(data => {
appendMessage(data.answer, "bot");
})
.catch(() => {
appendMessage("Sorry, something went wrong.", "bot");
});
}
</script>
</body>
</html>
